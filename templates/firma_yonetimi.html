{% extends 'base.html' %}

{% block title %}Firma Yönetimi{% endblock %}

{% block content %}
<div class="container-fluid px-4">
    <h1 class="mt-4">Firma Yönetimi</h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a href="{{ url_for('main.index') }}">Ana Panel</a></li>
        <li class="breadcrumb-item active">Firma Yönetimi</li>
    </ol>

    <div class="card mb-4">
        <div class="card-header">
            <i class="fas fa-users me-1"></i>
            Şirket Kullanıcıları
            <button class="btn btn-primary btn-sm float-end" data-bs-toggle="modal" data-bs-target="#yeniKullaniciModal">
                <i class="fas fa-plus"></i> Yeni Kullanıcı Ekle
            </button>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table id="kullanici-tablosu" class="table table-striped table-bordered" width="100%">
                    <thead>
                        <tr>
                            <th>Ad Soyad</th>
                            <th>Rol</th>
                            <th>E-posta</th>
                            <th>Telefon</th>
                            <th>Durum</th>
                            <th class="text-center" style="width: 150px;">İşlemler</th>
                        </tr>
                    </thead>
                    <tbody id="kullanici-listesi-body">
                        <!-- Kullanıcılar buraya JS ile yüklenecek -->
                         <tr>
                            <td colspan="6" class="text-center">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Yükleniyor...</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Modalları Include Et -->
{% include '_firma_modals.html' %}

{% endblock %}

{% block scripts %}
<!-- TomSelect JS (Tedarikçi seçimi için) -->
<script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>
<!-- Bu sayfaya özel JS -->
<script src="{{ url_for('static', filename='js/firma_yonetimi.js') }}"></script>
{% endblock %}