{% extends "base.html" %}

{% block title %}Yem Yönetimi - Süt Takip Sistemi{% endblock %}

{% block content %}
<div class="container mx-auto">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-semibold">Yem Yönetimi</h2>
        <button id="open-hizli-yem-ekle-modal-btn"
                class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">
            <i class="fas fa-plus mr-2"></i>
            Yeni Yem Girdisi
        </button>
    </div>

    <!-- Arama ve Filtreleme -->
    <div class="mb-4 card">
        <div class="card-body flex-col md:flex-row gap-4">
            <input type="date" id="yem-tarih-baslangic" 
                   class="input-field"
                   placeholder="Başlangıç Tarihi">
            <input type="date" id="yem-tarih-bitis" 
                   class="input-field"
                   placeholder="Bitiş Tarihi">
            <input type="text" id="yem-tedarikci-arama" 
                   class="flex-grow input-field"
                   placeholder="Tedarikçi ara...">
            <button id="yem-filter-btn" class="btn-success-filled">
                <i class="fas fa-filter mr-2"></i> Filtrele
            </button>
        </div>
    </div>

    <!-- Yem Girdileri Listesi -->
    <div class="card">
        <div class="card-body p-0">
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                    <thead class="bg-gray-50 dark:bg-gray-700">
                        <tr>
                            <th scope="col" class="table-header">Tarih</th>
                            <th scope="col" class="table-header">Tedarikçi</th>
                            <th scope="col" class="table-header">Yem Tipi</th>
                            <th scope="col" class="table-header">Miktar</th>
                            <th scope="col" class="table-header">Birim Fiyat</th>
                            <th scope="col" class="table-header">Toplam Tutar</th>
                            <th scope="col" class="table-header">İşlemler</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700" id="yem-table-body">
                        <!-- Veriler JS ile buraya yüklenecek -->
                         <tr>
                            <td colspan="7" class="p-4 text-center">
                                <i class="fas fa-spinner fa-spin mr-2"></i> Yem kayıtları yükleniyor...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Sayfalama -->
    <div class="flex justify-between items-center mt-4" id="pagination-controls-yem">
        <span id="pagination-info-yem"></span>
        <div>
            <button id="prev-page-btn-yem" class="pagination-btn" disabled>
                <i class="fas fa-chevron-left"></i> Önceki
            </button>
            <button id="next-page-btn-yem" class="pagination-btn">
                Sonraki <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
</div>

<!-- Hızlı İşlem Modalları -->
{% include '_hizli_islemler.html' %} 

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/yem_yonetimi.js') }}"></script>
{% endblock %}