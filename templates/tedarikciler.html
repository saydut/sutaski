{% extends "base.html" %}

{% block title %}Tedarikçiler - Süt Takip Sistemi{% endblock %}

{% block content %}
<div class="container mx-auto">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-semibold">Tedarikçi Yönetimi</h2>
        <button id="open-add-supplier-modal-btn" 
                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">
            <i class="fas fa-plus mr-2"></i>
            Yeni Tedarikçi Ekle
        </button>
    </div>

    <!-- Arama ve Filtreleme -->
    <div class="mb-4 card">
        <div class="card-body flex-col md:flex-row gap-4">
            <input type="text" id="search-supplier" 
                   class="flex-grow px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
                   placeholder="Tedarikçi ara (Ad, Soyad, Kod)...">
            <select id="filter-supplier-status" 
                    class="px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="">Tümü</option>
                <option value="aktif">Aktif</option>
                <option value="pasif">Pasif</option>
            </select>
        </div>
    </div>

    <!-- Tedarikçi Listesi -->
    <div class="card">
        <div class="card-body p-0">
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                    <thead class="bg-gray-50 dark:bg-gray-700">
                        <tr>
                            <th scope="col" class="table-header">Kod</th>
                            <th scope="col" class="table-header">Ad Soyad</th>
                            <th scope="col" class="table-header">Telefon</th>
                            <th scope="col" class="table-header">Bakiye</th>
                            <th scope="col" class="table-header">Durum</th>
                            <th scope="col" class="table-header">İşlemler</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700" id="supplier-table-body">
                        <!-- Veriler JS ile buraya yüklenecek -->
                        <tr>
                            <td colspan="6" class="p-4 text-center">
                                <i class="fas fa-spinner fa-spin mr-2"></i> Tedarikçiler yükleniyor...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Sayfalama -->
    <div class="flex justify-between items-center mt-4" id="pagination-controls">
        <span id="pagination-info"></span>
        <div>
            <button id="prev-page-btn" class="pagination-btn" disabled>
                <i class="fas fa-chevron-left"></i> Önceki
            </button>
            <button id="next-page-btn" class="pagination-btn">
                Sonraki <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
</div>

<!-- Yeni Tedarikçi Ekleme Modalı (firma_yonetimi.js kullanabilir) -->
<!-- Bu modal _firma_modals.html içinde olabilir, ancak buraya da eklenebilir. Şimdilik _firma_modals'a güvenelim. -->
{% include '_firma_modals.html' %} 

{% endblock %}

{% block scripts %}
<!-- Bu sayfaya özel JS dosyaları -->
<script src="{{ url_for('static', filename='js/firma_yonetimi.js') }}"></script>
<script src="{{ url_for('static', filename='js/tedarikciler.js') }}"></script>
{% endblock %}